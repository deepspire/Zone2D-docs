# –†–∞–±–æ—Ç–∞ —Å TCP (zone.socket)

> **–í–∞–∂–Ω–æ**
>
> –ö–∞–∂–¥—ã–π –∫–∞–¥—Ä –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑—ã–≤–∞—Ç—å **`zone.socket.update()`** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞/–∫–ª–∏–µ–Ω—Ç–∞.

## NetConnection

> üîª –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –Ω–∏–∫–∞–∫ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Luau.

### NetConnection:getIp()

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:** –Ω–µ—Ç.
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `string` ‚Äî –∞–π–ø–∏ –∞–¥—Ä–µ—Å —ç—Ç–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

### NetConnection:send()

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–æ–º—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–ª–∞—Å—Å–∞ ByteStream.

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
    -   `data: ByteStream`
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `number` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –±–∞–π—Ç.

### NetConnection:onDisconnect()

–í—ã–∑—ã–≤–∞–µ—Ç `callback` –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**
>
> `callback` –Ω–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω, –µ—Å–ª–∏ –ø—Ä–∏—á–∏–Ω–∞ –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –≤—ã–∑–æ–≤–æ–º `NetConnection:close()`.
>
> –ù–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ `callback` –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –∫–∞–∫ –æ–±—ã—á–Ω–æ.

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
    -   `callback: function` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏ –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `nil` (–Ω–∏—á–µ–≥–æ).

### NetConnection:close()

–û—Ç—Å–æ–µ–¥–∏–Ω—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:** –Ω–µ—Ç.
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `nil` (–Ω–∏—á–µ–≥–æ).

## –°–µ—Ä–≤–µ—Ä

### zone.socket.server.new()

–°–æ–∑–¥–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–ª–∞—Å—Å SocketServer.

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:** –Ω–µ—Ç.
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `SocketServer` (–∫–ª–∞—Å—Å).

### SocketServer:close()

–ó–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤.

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:** –Ω–µ—Ç.
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `nil` (–Ω–∏—á–µ–≥–æ).


### SocketServer:listen()

–ù–∞—á–∏–Ω–∞–µ—Ç —Å–ª—É—à–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ —É–∫–∞–∑–∞–Ω–æ–º—É –ø–æ—Ä—Ç—É –∏ –∞–π–ø–∏ –∞–¥—Ä–µ—Å—É.

–§—É–Ω–∫—Ü–∏—è –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–µ `callback` –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º NetConnection –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞.

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**
>
> –°–æ–∫–µ—Ç—ã –Ω–∏–∫–∞–∫ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å–∞–º–∏ –ø–æ —Å–µ–±–µ. (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
>
> –ß—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å —Å–æ–∫–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `SocketServer:close()`. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–æ–ª–ª–±—ç–∫–µ `zone.cleanup`.

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
    -   `port: number` ‚Äî –ø–æ—Ä—Ç.
    -   `ip: string?` ‚Äî –∞–π–ø–∏ –∞–¥—Ä–µ—Å. _(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)_. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `0.0.0.0`. (—Ç–æ –µ—Å—Ç—å –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –∞–¥—Ä–µ—Å–∞–º)
    -   `callback: function` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞.
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `nil` (–Ω–∏—á–µ–≥–æ).

## –ö–ª–∏–µ–Ω—Ç

### zone.socket.client.new()

–°–æ–∑–¥–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–ª–∞—Å—Å SocketClient.

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:** –Ω–µ—Ç.
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `SocketClient` (–∫–ª–∞—Å—Å).

### SocketClient:close()

–ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É.

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:** –Ω–µ—Ç.
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `nil` (–Ω–∏—á–µ–≥–æ).


### SocketClient:listen()

–ü—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É, –∏–Ω–∞—á–µ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É.

–§—É–Ω–∫—Ü–∏—è –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–µ `callback` –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º NetConnection –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ —Å–µ—Ä–≤–µ—Ä—É.

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**
>
> –°–æ–∫–µ—Ç—ã –Ω–∏–∫–∞–∫ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å–∞–º–∏ –ø–æ —Å–µ–±–µ. (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
>
> –ß—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å —Å–æ–∫–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `SocketClient:close()`. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–æ–ª–ª–±—ç–∫–µ `zone.cleanup`.

-   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
    -   `ip: string` ‚Äî –∞–π–ø–∏ –∞–¥—Ä–µ—Å.
    -   `port: number` ‚Äî –ø–æ—Ä—Ç.
    -   `callback: function` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –∫ —Å–µ—Ä–≤–µ—Ä—É.
-   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
    -   `nil` (–Ω–∏—á–µ–≥–æ).